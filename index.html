<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ariq Azmain's Galactic War - Mission: Alien Space Station</title>
    
    <!-- Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    
    <!-- Three.js and related libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/FilmShader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/PointerLockControls.min.js"></script>
    
    <!-- Animation and UI Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.3.4/tsparticles.bundle.min.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- FPS Counter -->
    <div id="fpsCounter">FPS: 60</div>
    
    <!-- Performance Warning -->
    <div id="perfWarning" class="hidden">
        <h3><i class="fas fa-exclamation-triangle"></i> PERFORMANCE WARNING</h3>
        <p>Your device is struggling to run the game smoothly.</p>
        <p>Lowering graphics quality...</p>
        <button id="closePerfWarning">OK</button>
    </div>
    
    <!-- Game Container -->
    <div id="gameContainer"></div>
    
    <!-- Loading Screen -->
    <div id="loadingScreen" class="screen">
        <div class="loader">
            <div class="spaceship-loader">
                <div class="ship-model">
                    <div class="rocket-body">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <div class="engine-flame"></div>
                </div>
            </div>
            <h2>GALACTIC WAR</h2>
            <p>Mission: Alien Space Station Assault</p>
            <p class="commander-tag">Commander: Ariq Azmain</p>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="loadingProgress"></div>
                </div>
                <div class="progress-text" id="loadingText">Initializing Game Engine...</div>
            </div>
            <div class="loading-tips">
                <p><i class="fas fa-lightbulb"></i> Tip: Follow the glowing waypoints to complete the mission</p>
                <p><i class="fas fa-lightbulb"></i> Tip: Collect health packs to restore your ship</p>
            </div>
        </div>
    </div>
    
    <!-- Main Menu -->
    <div id="mainMenu" class="screen hidden">
        <div class="menu-content">
            <div class="menu-header">
                <h1 class="game-title">GALACTIC WAR</h1>
                <h2 class="commander-name">Commander: Ariq Azmain</h2>
                <div class="version-tag">v3.0 - Mission Edition</div>
            </div>
            
            <div class="menu-stats">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-trophy"></i></div>
                    <div class="stat-info">
                        <div class="stat-label">HIGH SCORE</div>
                        <div class="stat-value" id="menuHighScore">0</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-layer-group"></i></div>
                    <div class="stat-info">
                        <div class="stat-label">MISSIONS COMPLETE</div>
                        <div class="stat-value" id="menuMissions">0</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-skull-crossbones"></i></div>
                    <div class="stat-info">
                        <div class="stat-label">ALIENS DESTROYED</div>
                        <div class="stat-value" id="menuKills">0</div>
                    </div>
                </div>
            </div>
            
            <div class="menu-buttons">
                <button id="newGameBtn" class="menu-btn primary">
                    <i class="fas fa-play-circle"></i>
                    <span>START MISSION</span>
                </button>
                <button id="continueBtn" class="menu-btn" disabled>
                    <i class="fas fa-redo"></i>
                    <span>CONTINUE</span>
                </button>
                <button id="howToPlayBtn" class="menu-btn">
                    <i class="fas fa-info-circle"></i>
                    <span>HOW TO PLAY</span>
                </button>
                <button id="settingsBtn" class="menu-btn">
                    <i class="fas fa-cog"></i>
                    <span>SETTINGS</span>
                </button>
            </div>
            
            <div class="menu-footer">
                <p><i class="fas fa-gamepad"></i> Use Arrow Keys/WASD to move</p>
                <p><i class="fas fa-mouse"></i> Mouse to aim, Left Click to fire</p>
                <p><i class="fas fa-space-shuttle"></i> SPACE for boost, R for missiles</p>
            </div>
        </div>
    </div>
    
    <!-- How to Play -->
    <div id="howToPlayScreen" class="screen hidden">
        <div class="how-to-content">
            <h1><i class="fas fa-graduation-cap"></i> HOW TO PLAY</h1>
            
            <div class="controls-grid">
                <div class="control-item">
                    <div class="control-icon"><i class="fas fa-arrows-alt"></i></div>
                    <div class="control-info">
                        <h3>MOVEMENT</h3>
                        <p>Use <strong>WASD</strong> or <strong>Arrow Keys</strong> to move your ship</p>
                    </div>
                </div>
                
                <div class="control-item">
                    <div class="control-icon"><i class="fas fa-mouse-pointer"></i></div>
                    <div class="control-info">
                        <h3>AIMING</h3>
                        <p>Move <strong>mouse</strong> to aim at enemies</p>
                    </div>
                </div>
                
                <div class="control-item">
                    <div class="control-icon"><i class="fas fa-fire"></i></div>
                    <div class="control-info">
                        <h3>WEAPONS</h3>
                        <p><strong>Left Click</strong> - Fire bullets (Unlimited)</p>
                        <p><strong>Right Click</strong> - Fire bombs (Limited)</p>
                        <p><strong>R Key</strong> - Fire missiles (Limited)</p>
                    </div>
                </div>
                
                <div class="control-item">
                    <div class="control-icon"><i class="fas fa-rocket"></i></div>
                    <div class="control-info">
                        <h3>BOOST</h3>
                        <p>Press <strong>SPACE</strong> for speed boost</p>
                    </div>
                </div>
            </div>
            
            <div class="mission-objective">
                <h3><i class="fas fa-crosshairs"></i> MISSION OBJECTIVE</h3>
                <p>1. Follow the glowing waypoints through asteroid field</p>
                <p>2. Destroy enemy alien ships along the way</p>
                <p>3. Reach the Alien Space Station</p>
                <p>4. Destroy all defenses and the main reactor</p>
                <p class="warning">⚠️ Collect health packs to restore your ship!</p>
            </div>
            
            <div class="howto-buttons">
                <button id="backToMenuBtn" class="menu-btn primary">
                    <i class="fas fa-arrow-left"></i> BACK TO MENU
                </button>
            </div>
        </div>
    </div>
    
    <!-- Game HUD -->
    <div id="gameHUD" class="hidden">
        <!-- Top Bar -->
        <div class="hud-top">
            <div class="hud-section left">
                <div class="hud-item">
                    <div class="hud-label">SHIP HEALTH</div>
                    <div class="hud-bar">
                        <div class="bar-background"></div>
                        <div class="bar-fill health" id="healthBar"></div>
                        <div class="bar-text" id="healthText">100%</div>
                    </div>
                </div>
                <div class="hud-item">
                    <div class="hud-label">ENERGY</div>
                    <div class="hud-bar">
                        <div class="bar-background"></div>
                        <div class="bar-fill energy" id="energyBar"></div>
                        <div class="bar-text" id="energyText">100%</div>
                    </div>
                </div>
            </div>
            
            <div class="hud-section center">
                <div class="mission-info">
                    <div class="mission-label">MISSION OBJECTIVE</div>
                    <div class="mission-text" id="missionText">Reach Waypoint 1</div>
                    <div class="mission-progress">
                        <div class="progress-track"></div>
                        <div class="progress-fill" id="missionProgress"></div>
                    </div>
                </div>
            </div>
            
            <div class="hud-section right">
                <div class="hud-item">
                    <div class="hud-label">SCORE</div>
                    <div class="hud-value large" id="scoreValue">0</div>
                </div>
                <div class="hud-item">
                    <div class="hud-label">ENEMIES</div>
                    <div class="hud-value" id="enemyCount">0</div>
                </div>
                <div class="hud-item">
                    <div class="hud-label">DISTANCE</div>
                    <div class="hud-value" id="distanceValue">0m</div>
                </div>
            </div>
        </div>
        
        <!-- Center HUD -->
        <div class="hud-center">
            <div class="crosshair">
                <div class="crosshair-dot"></div>
                <div class="crosshair-ring"></div>
                <div class="target-lock" id="targetLock"></div>
            </div>
            
            <div class="weapon-display">
                <div class="weapon-info">
                    <div class="weapon-icon" id="currentWeaponIcon">
                        <i class="fas fa-crosshairs"></i>
                    </div>
                    <div class="weapon-ammo">
                        <div class="ammo-type">BULLETS: <span id="bulletCount">∞</span></div>
                        <div class="ammo-type">BOMBS: <span id="bombCount">10</span></div>
                        <div class="ammo-type">MISSILES: <span id="missileCount">3</span></div>
                    </div>
                </div>
            </div>
            
            <div class="speed-indicator">
                <div class="speed-gauge">
                    <div class="speed-needle"></div>
                </div>
                <div class="speed-value" id="speedValue">0</div>
                <div class="speed-label">SPEED</div>
            </div>
        </div>
        
        <!-- Bottom HUD -->
        <div class="hud-bottom">
            <div class="objective-tracker">
                <div class="objective-title">WAYPOINTS</div>
                <div class="waypoint-list">
                    <div class="waypoint-item active" data-waypoint="1">
                        <i class="fas fa-circle"></i> Waypoint 1
                    </div>
                    <div class="waypoint-item" data-waypoint="2">
                        <i class="fas fa-circle"></i> Waypoint 2
                    </div>
                    <div class="waypoint-item" data-waypoint="3">
                        <i class="fas fa-circle"></i> Waypoint 3
                    </div>
                    <div class="waypoint-item" data-waypoint="4">
                        <i class="fas fa-circle"></i> Waypoint 4
                    </div>
                    <div class="waypoint-item" data-waypoint="5">
                        <i class="fas fa-circle"></i> Space Station
                    </div>
                </div>
            </div>
            
            <div class="system-status">
                <div class="status-item active" id="engineStatus">
                    <i class="fas fa-rocket"></i>
                    <span>ENGINE</span>
                </div>
                <div class="status-item active" id="weaponStatus">
                    <i class="fas fa-crosshairs"></i>
                    <span>WEAPONS</span>
                </div>
                <div class="status-item active" id="shieldStatus">
                    <i class="fas fa-shield-alt"></i>
                    <span>SHIELD</span>
                </div>
            </div>
        </div>
        
        <!-- Warnings -->
        <div class="hud-warnings">
            <div class="warning hidden" id="damageWarning">
                <i class="fas fa-exclamation-triangle"></i>
                <span>TAKING DAMAGE!</span>
            </div>
            <div class="warning hidden" id="missileWarning">
                <i class="fas fa-rocket"></i>
                    <span>INCOMING MISSILE!</span>
            </div>
            <div class="notification hidden" id="healthPickup">
                <i class="fas fa-heart"></i>
                <span>HEALTH RESTORED +20</span>
            </div>
        </div>
    </div>
    
    <!-- Damage Overlay -->
    <div id="damageOverlay" class="hidden"></div>
    
    <!-- Waypoint Indicator -->
    <div id="waypointIndicator" class="hidden">
        <div class="waypoint-marker">
            <i class="fas fa-location-arrow"></i>
            <span class="waypoint-distance" id="waypointDistance">1000m</span>
        </div>
        <div class="waypoint-progress">
            <div class="progress-line"></div>
            <div class="progress-dots">
                <div class="dot active" data-point="1"></div>
                <div class="dot" data-point="2"></div>
                <div class="dot" data-point="3"></div>
                <div class="dot" data-point="4"></div>
                <div class="dot" data-point="5"></div>
            </div>
        </div>
    </div>
    
    <!-- Congratulations Popup -->
    <div id="congratulationsPopup" class="popup hidden">
        <div class="popup-content">
            <div class="popup-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 id="congratsTitle">WAYPOINT REACHED!</h2>
            <p id="congratsMessage">Proceeding to next objective...</p>
            <button id="continueMissionBtn" class="popup-btn">
                CONTINUE <i class="fas fa-forward"></i>
            </button>
        </div>
    </div>
    
    <!-- Final Battle HUD -->
    <div id="finalBattleHUD" class="hidden">
        <div class="battle-header">
            <h2><i class="fas fa-skull-crossbones"></i> FINAL BATTLE</h2>
            <p>Destroy the Alien Space Station!</p>
        </div>
        
        <div class="station-health">
            <div class="health-label">STATION HEALTH</div>
            <div class="health-bar">
                <div class="health-fill" id="stationHealthBar"></div>
                <div class="health-text" id="stationHealthText">100%</div>
            </div>
        </div>
        
        <div class="defense-layers">
            <div class="layer outer-layer active">
                <i class="fas fa-shield-alt"></i> Outer Defenses
            </div>
            <div class="layer inner-layer">
                <i class="fas fa-home"></i> Inner Structures
            </div>
            <div class="layer core-layer">
                <i class="fas fa-radiation"></i> Main Reactor
            </div>
        </div>
        
        <div class="special-weapons">
            <button id="useDroneBtn" class="weapon-btn">
                <i class="fas fa-robot"></i> DEPLOY DRONE
            </button>
            <button id="useNukeBtn" class="weapon-btn nuke">
                <i class="fas fa-bomb"></i> NUCLEAR BOMB
            </button>
        </div>
    </div>
    
    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="screen hidden">
        <div class="game-over-content">
            <div class="game-over-header">
                <h1 id="gameOverTitle">MISSION FAILED</h1>
                <p>Your ship has been destroyed</p>
            </div>
            
            <div class="game-over-stats">
                <div class="stat-item">
                    <span>Distance Traveled</span>
                    <strong id="finalDistance">0m</strong>
                </div>
                <div class="stat-item">
                    <span>Enemies Destroyed</span>
                    <strong id="finalKills">0</strong>
                </div>
                <div class="stat-item">
                    <span>Waypoints Reached</span>
                    <strong id="finalWaypoints">0/5</strong>
                </div>
                <div class="stat-item">
                    <span>Final Score</span>
                    <strong id="finalScore" class="highlight">0</strong>
                </div>
            </div>
            
            <div class="game-over-buttons">
                <button id="retryBtn" class="game-over-btn primary">
                    <i class="fas fa-redo"></i> RETRY MISSION
                </button>
                <button id="quitToMenuBtn" class="game-over-btn">
                    <i class="fas fa-home"></i> MAIN MENU
                </button>
            </div>
        </div>
    </div>
    
    <!-- Mission Complete Screen -->
    <div id="missionCompleteScreen" class="screen hidden">
        <div class="mission-complete-content">
            <div class="confetti-container"></div>
            
            <div class="complete-header">
                <h1><i class="fas fa-trophy"></i> MISSION ACCOMPLISHED!</h1>
                <p class="subtitle">Alien Space Station Destroyed</p>
            </div>
            
            <div class="complete-stats">
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h3>Mission Time</h3>
                    <p id="missionTime">00:00</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-skull-crossbones"></i>
                    <h3>Enemies Destroyed</h3>
                    <p id="totalKills">0</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-medal"></i>
                    <h3>Accuracy</h3>
                    <p id="missionAccuracy">0%</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-star"></i>
                    <h3>Final Score</h3>
                    <p id="missionScore" class="highlight">0</p>
                </div>
            </div>
            
            <div class="promotion">
                <i class="fas fa-crown"></i>
                <h2>Commander Ariq Azmain has been promoted to <span class="rank">FLEET ADMIRAL</span></h2>
            </div>
            
            <div class="complete-buttons">
                <button id="playAgainBtn" class="complete-btn primary">
                    <i class="fas fa-redo"></i> PLAY AGAIN
                </button>
                <button id="backToMenuCompleteBtn" class="complete-btn">
                    <i class="fas fa-home"></i> MAIN MENU
                </button>
            </div>
        </div>
    </div>
    
    <!-- Settings Screen -->
    <div id="settingsScreen" class="screen hidden">
        <div class="settings-content">
            <div class="settings-header">
                <h1><i class="fas fa-cog"></i> SETTINGS</h1>
            </div>
            
            <div class="settings-section">
                <h3><i class="fas fa-sliders-h"></i> GAMEPLAY</h3>
                <div class="setting">
                    <label>Difficulty</label>
                    <select id="difficultySelect">
                        <option value="easy">Easy</option>
                        <option value="normal" selected>Normal</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
                <div class="setting">
                    <label>
                        <input type="checkbox" id="autoAimCheck" checked>
                        Auto Aim Assist
                    </label>
                </div>
            </div>
            
            <div class="settings-section">
                <h3><i class="fas fa-volume-up"></i> AUDIO</h3>
                <div class="setting">
                    <label>Master Volume</label>
                    <input type="range" id="masterVolume" min="0" max="100" value="80">
                </div>
                <div class="setting">
                    <label>Music Volume</label>
                    <input type="range" id="musicVolume" min="0" max="100" value="70">
                </div>
                <div class="setting">
                    <label>SFX Volume</label>
                    <input type="range" id="sfxVolume" min="0" max="100" value="90">
                </div>
            </div>
            
            <div class="settings-buttons">
                <button id="saveSettingsBtn" class="settings-btn primary">
                    <i class="fas fa-save"></i> SAVE & CLOSE
                </button>
                <button id="closeSettingsBtn" class="settings-btn">
                    <i class="fas fa-times"></i> CLOSE
                </button>
            </div>
        </div>
    </div>
    
    <!-- Game Script -->
    <script src="script.js"></script>
</body>
</html>